Assignment 3 :  DESIGN and SQL
---
```sql
CREATE TABLE ORGANIZATION 
  ( 
     CODE CHAR(5) PRIMARY KEY, 
     NAME CHAR(15) 
  ); 
  
CREATE TABLE EMPLOYEE 
  ( 
     CODE            CHAR(5) PRIMARY KEY, 
     NAME            CHAR(20), 
     ADDRESS         CHAR(25), 
     CITY            CHAR(20), 
     BASIC           INTEGER, 
     JOIN_DATE       DATE DEFAULT SYSDATE,
     DCODE CHAR(5), 
     GRADE           CHAR(1), 
     FOREIGN KEY (DCODE) REFERENCES ORGANIZATION (CODE) ON DELETE CASCADE,    
     CONSTRAINT grade_range CHECK (GRADE IN ('A', 'B', 'C')), 
     CONSTRAINT basic_range CHECK (BASIC >= 5000 AND BASIC <= 9000), 
     CONSTRAINT name_range CHECK (NAME = Upper(NAME)) 
  ); 
```
```sql
CREATE TABLE LEAVE_REGISTER 
  ( 
     EMPCODE CHAR(5), 
     FROM_DATE     DATE, 
     UPTO_DATE     DATE, 
     TYPE          CHAR(2), 
     PRIMARY KEY (EMPCODE, FROM_DATE), 
     FOREIGN KEY (EMPCODE) REFERENCES EMPLOYEE(CODE) ON DELETE CASCADE, 
     CONSTRAINT type_range CHECK (TYPE IN ('CL', 'EL', 'ML')) 
  ); 
```
```sql
CREATE TABLE PAYOUT AS
	SELECT EMPLOYEE.CODE AS CODE, EMPLOYEE.NAME AS EMPLOYEE_NAME, ORGANIZATION.NAME AS DEPARTMENT_NAME, BASIC
	FROM EMPLOYEE, ORGANIZATION;
```
```sql
INSERT INTO PAYOUT(CODE, EMPLOYEE_NAME, DEPARTMENT_NAME, BASIC)
	SELECT EMPLOYEE.CODE, EMPLOYEE.NAME, ORGANIZATION.NAME, BASIC
		FROM EMPLOYEE, ORGANIZATION
		WHERE DEPARTMENT_CODE = ORGANIZATION.CODE
			AND BASIC = 7000
			AND ORGANIZATION.NAME = 'D1';
```
```sql
INSERT INTO PAYOUT(CODE, EMPLOYEE_NAME, DEPARTMENT_NAME, BASIC)
	SELECT EMPLOYEE.CODE, EMPLOYEE.NAME, ORGANIZATION.NAME, BASIC
		FROM EMPLOYEE, ORGANIZATION
		WHERE DEPARTMENT_CODE = ORGANIZATION.CODE
			AND BASIC >= 7000;
```
```sql
ALTER TABLE PAYOUT
	ADD NET_PAY INTEGER;
UPDATE PAYOUT
	SET NET_PAY = 1.5 * BASIC;
ALTER TABLE PAYOUT
	DROP COLUMN NET_PAY;
```
```sql    
DROP TABLE EMPLOYEE;
DROP TABLE ORGANIZATION;
DROP TABLE LEAVE_REGISTER;
DROP TABLE PAYOUT;      
```